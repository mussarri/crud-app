<%- include('layouts/header') %>

<div class="row">
  <h3><%= title %></h3>
  <div class="col-lg-12 mt-2">
    <% if (message) { %>
    <div
      class="alert alert-dismissible fade show alert-<%= message.type %>"
      role="alert"
    >
      <button
        class="btn-close"
        type="button"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
      <strong><%= message.message %></strong>
    </div>
    <% } %>
    <div class="table-responsive">
      <table class="table table-striped text-center">
        <thead>
          <tr class="table-dark">
            <th>ID</th>
            <th>Image</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Action</th>
          </tr>
        </thead>
        <% if (users) { %>
        <tbody>
          <% users.forEach((user,index) => { %>
          <tr class="align-middle">
            <td><%= index + 1 %></td>
            <td><img src="<%= user.image %>" alt="" width="50" /></td>
            <td><%= user.name %></td>
            <td><%= user.email %></td>
            <td><%= user.phone %></td>
            <td style="font-size: 20px">
              <a href="/<%= user.id %>/edit" class="text-success"
                ><i class="fa-solid fa-edit fa-lg"></i
              ></a>
              <a href="/<%= user.id %>?_method=DELETE" class="text-danger"
                onclick="return confirm('Are you sure?')"
                ><i class="fa-solid fa-remove fa-lg"></i
              ></a>
            </td>
          </tr>
          <% }) %>
        </tbody>
        <% } else { %>
        <h3 class="mt-2">No users found</h3>
        <% } %>
      </table>
    </div>
  </div>
</div>

<%- include('layouts/footer') %>
